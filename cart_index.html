<!DOCTYPE html>
<html>
  <head>
    <title>购物车</title>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
">

<link rel="stylesheet" href="./lib/weui.min.css">
<link rel="stylesheet" href="./css/jquery-weui.css">
<link rel="stylesheet" href="./css/demos.css">
<link rel="stylesheet" type="text/css" href="./css/font-awesome.min.css">
<link rel="stylesheet" href="css/shopping.css" />
   <style>
     .xiaojie{
       display: none;
     }
     .jiesheng{
       display: none;
     }
   </style>
  </head>
  <body ontouchstart>

    <div class="weui-tab">
      <div class="weui-tab__bd">
        <div class="weui-tab__bd-item weui-tab__bd-item--active">
          
     <!--代码块-->
     
      <div class="nav">
			  	<b class="b1">我的购物车<span style="font-size: 14px;">（2）</span></b>
			  	
	    </div>
        <div class="weui-cells weui-cells_checkbox" >
        <label class="weui-cell weui-check__label" for="s11">
          <div class="weui-cell__hd">
            <input type="checkbox" class="weui-check" name="checkbox1" id="s11">
            <i class="weui-icon-checked"></i>
          </div>
          <div class="weui-cell__bd">
            <p>菜云自营   ></p>
          </div>
        </label>  
       
        <label class="weui-cell weui-check__label" for="s12">
          <div class="weui-cell__hd">
            <input type="checkbox" class="weui-check" name="checkbox1" id="s12">
            <i class="weui-icon-checked"></i>
          </div>
             <a href="javascript:void(0);" class="weui-cell weui-cell_access weui-cell_link" style="padding: 10px 5px;">
						<div style="height: 100px;line-height: 100px;width: 25%;">
							<img src="img/suanmiao.jpg" style="width: 100%;height: 70%;margin: 15px 0px;">
						</div>
						<div class="weui-cell__bd" style="height: 100px;width: 75%;">
						  <h1 style="padding-left: 20px;font-size: 12px;color: #888;">&nbsp;</h1>
							<h1 style="padding-left: 20px;font-size: 14px;color: #000000;">红蒜苗</h1>
							<h1 style="padding-left: 20px;font-size: 12px;color: #888;">&nbsp;</h1>
							<h1 style="padding-left: 20px;font-size: 14px;color: red;font-weight: normal;">&yen; 
							   <span class="mon">0.70</span>
							  <del class="jie" style="color: #c7c7c7; font-size: 12px;">0.84</del>
							  <span class="xiaojie"></span>
							  <span class="jiesheng"></span>
							</h1>
						</div>
					</a>
        </label> 
        <div class="num">
							 <button class="reduce">-</button>
							 <span class="UnitPrice" style="font-size: 14px;">0</span>
							 <button class="increase">+</button>
				</div>
      </div>  
      
      <div class="weui-cells weui-cells_checkbox">
        <label class="weui-cell weui-check__label" for="s13">
          <div class="weui-cell__hd">
            <input type="checkbox" class="weui-check" name="checkbox1" id="s13">
            <i class="weui-icon-checked"></i>
          </div>
          <div class="weui-cell__bd">
            <p>菜云自营   ></p>
          </div>
        </label>  
       
        <label class="weui-cell weui-check__label" for="s14">
          <div class="weui-cell__hd">
            <input type="checkbox" class="weui-check" name="checkbox1" id="s14">
            <i class="weui-icon-checked"></i>
          </div>
             <a href="javascript:void(0);" class="weui-cell weui-cell_access weui-cell_link" style="padding: 10px 5px;">
						<div style="height: 100px;line-height: 100px;width: 25%;">
							<img src="img/baicai.jpg" style="width: 100%;height: 70%;margin: 15px 0px;">
						</div>
						<div class="weui-cell__bd" style="height: 100px;width: 75%;">
							<h1 style="padding-left: 20px;font-size: 12px;color: #888;">&nbsp;</h1>
							<h1 style="padding-left: 20px;font-size: 14px;color: #000000;">火锅白菜</h1>
							<h1 style="padding-left: 20px;font-size: 12px;color: #888;">&nbsp;</h1>
							<h1 style="padding-left: 20px;font-size: 14px;color: red;font-weight: normal;">&yen; 
							  <span class="mon">2.80</span>
							  <del class="jie" style="color: #c7c7c7; font-size: 12px;">3.36</del>
							  <span class="xiaojie"></span>
							   <span class="jiesheng"></span>
							</h1>
							
						</div>
					</a>
        </label>  
        <div class="num">
							 <button class="reduce">-</button>
							 <span class="UnitPrice" style="font-size: 14px;">0</span>
							 <button class="increase">+</button>
				</div>
      </div>  
      <!--总结-->
      <div id="summary">
          <div class="weui-cells weui-cells_checkbox weui_all">
        <!--复选框-->
       
        <label class="weui-cell weui-check__label summary"  for="s15">
          <div class="weui-cell__hd">
            <input type="checkbox" class="weui-check" name="checkbox" id="s15">
            <i class="weui-icon-checked"></i>
          </div>
               <b style="font-weight: normal;">全选</b>
               <div class="price" style="font-size: 14px;">
							               <b style="font-weight: normal">共节省</b> 
							               <span style="color:gray">&yen;:<b style="font-weight: normal;" id="save">0</b>元</span><br/>
							               <b style="font-weight: normal">合计</b> 
							               <span style="color:red">&nbsp;&nbsp; &yen:<b style="font-weight: normal;" id="Total">0</b>元</span><br/>
               </div>
        </label> 
      </div>  
         <button class="btnJ">
                 <span>去结算</span>
               </button>
      </div> 
      <!--总结-->
      <script type="text/javascript">
        var All = document.getElementById('s15');//全选
        var S11 = document.getElementById('s11');// btn1
        var S12 = document.getElementById('s12');// btn2
        var S13 = document.getElementById('s13');// btn3
        var S14 = document.getElementById('s14');// btn4

         var Reduces = document.getElementsByClassName('reduce');  //减少
         var increases = document.getElementsByClassName('increase'); //增加
         var UnitPrices = document.getElementsByClassName('UnitPrice'); //数量
         var XJ = document.getElementsByClassName('xiaojie'); //小节
         var JS = document.getElementsByClassName('jiesheng'); //节省
         var Save = document.getElementById('save');  //节省
	       var total = document.getElementById('Total'); //总共
	       var Mon = document.getElementsByClassName('mon');  //价格
	       var Jie = document.getElementsByClassName('jie');  //节省
         function add(){
            var num;
            var aa;
            var Aa;
            var ab;
            var Ab;
            var cc;
            for(var i=0;i<increases.length;i++){
            increases[i].index = i;
            
	            increases[i].onclick = function(){
	               num = UnitPrices[this.index].innerHTML;
	               num ++;
	               UnitPrices[this.index].innerHTML = num; 
	               aa = Mon[this.index].innerHTML; //价格
	               Aa = Jie[this.index].innerHTML; //节省
	               ab = aa*num;
	               ab = ab.toFixed(2); 
	               Ab = (Aa-aa)*num;
	               Ab = Ab.toFixed(2); 
	               XJ[this.index].innerHTML = ab; 
	               JS[this.index].innerHTML = Ab;
	               
	               
	               var priceTotal = 0;
					         for(var j=0; j<XJ.length; j++){
						       var subone = XJ[j].innerText;
						       subone = Number(subone); 
						       priceTotal += subone;
					         }
					         total.innerText = priceTotal;
					         
					       var pricesave = 0;
					         for(var j=0;j<JS.length;j++){
					           var subtwo = JS[j].innerText;
					           subtwo = Number(subtwo);
					           pricesave += subtwo;
					         }
					         Save.innerText = pricesave;
					         
                  } 
                 
	            }
	           
            } 
            
		     function dec(){
		        var num;
            var aa;
            var Aa;
            var ab;
            var Ab;
            var cc;
		       for(var i=0;i<Reduces.length;i++){
            Reduces[i].index = i;
	            Reduces[i].onclick = function(){
	            
	               var num = UnitPrices[this.index].innerHTML;
	               num --;
	               if(num>=0){
	                 UnitPrices[this.index].innerHTML = num;
	                 
	                 
	               aa = Mon[this.index].innerHTML; //价格
	               Aa = Jie[this.index].innerHTML; //节省
	               ab = aa*num;
	               ab = ab.toFixed(2); 
	               Ab = (Aa-aa)*num;
	               Ab = Ab.toFixed(2); 
	               XJ[this.index].innerHTML = ab; 
	               JS[this.index].innerHTML = Ab;
	               
	               var priceTotal = 0;
					         for(var j=0; j<XJ.length; j++){
						       var subone = XJ[j].innerText;
						       subone = Number(subone); 
						       priceTotal += subone;
					         }
					         total.innerText = priceTotal;
					         
					       var pricesave = 0;
					         for(var j=0;j<JS.length;j++){
					           var subtwo = JS[j].innerText;
					           subtwo = Number(subtwo);
					           pricesave += subtwo;
					         }
					         Save.innerText = pricesave;
	                 
	               }else{
	                 UnitPrices[this.index].innerHTML = 0;
	                 total.innerText = 0;
	                 Save.innerText = 0;
	               } 
	            }
            }
		     }
		     
		     S11.onclick = function(){
		       if(S11.checked){
		         S12.checked = true;
		       }else{
		         S12.checked = false;
		       } 
		       add();
		       dec();
		     }
		     
		     S12.onclick = function(){
		       if(S12.checked){
		         S11.checked = true;
		       }else{
		         S11.checked = false;
		       } 
		       
		     }
		     S13.onclick = function(){
		       if(S13.checked){
		         S14.checked = true;
		       }else{
		         S14.checked = false;
		       } 
		       add();
		       dec();
		     }
		      S14.onclick = function(){
		       if(S14.checked){
		         S13.checked = true;
		       }else{
		         S13.checked = false;
		       } 
		       
		     }
		      
		    var aItem = document.getElementsByName("checkbox1");
		    All.onclick = function(){
			    if(All.checked){//判断是不是选中的
				     setChecked(true);
			    }else{
				    setChecked(false);
			    }
			    add();
		      dec();
		    }
		    //设置复选框选中/取消
		    function setChecked(b){
			  for(var i=0; i<aItem.length; i++){
				  aItem[i].checked = b;
			   }
		   }
//		   function money(){
//		     var PRICE;
//		     var MON;
//		     for(var i=0;i<Mon.length;i++){ //价格
//		       // Mon[i].index = i;
//          PRICE = Mon[i].innerText;
//		      //  console.log(PRICE);
//		     }
//		     for(var j=0;j<Jie.length;j++){ //节省
//		           MON = Jie[j].innerText;
//		      }
//		     
//		   }
//     money();
      </script>
          <!--代码块-->
        </div>
      </div>

      <div class="weui-tabbar">
      	<a href="index.html" class="weui-tabbar__item">
      	<!-- <span class="weui-badge" style="position: absolute;top: -.4em;right: 1em;">8</span> -->
      	<div class="weui-tabbar__icon">
      		<i class="fa fa-home" aria-hidden="true"></i>
      	<!-- <img src="./images/icon_nav_button.png" alt=""> -->
      	</div>
      	<p class="weui-tabbar__label">首页</p>
      	</a>
      	<a href="cate_index.html" class="weui-tabbar__item">
      	<div class="weui-tabbar__icon">
      		<i class="fa fa-list" aria-hidden="true"></i>
      	<!-- <img src="./images/icon_nav_msg.png" alt=""> -->
      	</div>
      	<p class="weui-tabbar__label">分类</p>
      	</a>
      	<a href="cart_index.html" class="weui-tabbar__item weui-bar__item--on">
      	<div class="weui-tabbar__icon">
      		<i class="fa fa-shopping-cart" aria-hidden="true"></i>
      	<!-- <img src="./images/icon_nav_article.png" alt=""> -->
      	</div>
      	<p class="weui-tabbar__label">购物车</p>
      	</a>
      	<a href="user_index.html" class="weui-tabbar__item">
      	<div class="weui-tabbar__icon">
      		<i class="fa fa-user-circle-o" aria-hidden="true"></i>
      	<!-- <img src="./images/icon_nav_cell.png" alt=""> -->
      	</div>
      	<p class="weui-tabbar__label">我</p>
      	</a>
      </div>
    </div>

<script src="./lib/jquery-2.1.4.js"></script>
  </body>
</html>
